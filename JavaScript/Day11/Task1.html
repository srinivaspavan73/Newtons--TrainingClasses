<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Card Generator</title>
    <style>
        /* Basic Body Styling */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #1c1e21;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Form Container Styling */
        .form-container {
            background-color: #ffffff;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            margin-bottom: 30px;
            box-sizing: border-box;
        }

        /* Form Element Styling */
        .form-container input[type="text"],
        .form-container textarea,
        .form-container select,
        .form-container input[type="file"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 16px;
            border: 1px solid #ccd0d5;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-container textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .form-container .file-input-label {
            display: block;
            background-color: #f5f6f7;
            border: 1px dashed #ccd0d5;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 16px;
        }
        
        .form-container input[type="file"] {
            display: none;
        }

        .form-container .file-name {
            font-size: 14px;
            color: #606770;
            margin-left: 8px;
        }

        .form-container button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background-color: #1877f2;
            color: #ffffff;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .form-container button:hover {
            background-color: #166fe5;
        }

        /* Card Container Styling */
        #card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            width: 100%;
        }

        /* Individual Card Styling */
        .card {
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 300px;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: background-color 0.4s, color 0.4s;
        }

        .card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-bottom: 16px;
            border: 3px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .card img.square {
            border-radius: 8px;
        }
        
        .card img.circle {
            border-radius: 50%;
        }

        .card h3 {
            margin: 0 0 8px 0;
            font-size: 22px;
        }

        .card p {
            margin: 0 0 16px 0;
            font-size: 16px;
            flex-grow: 1;
            word-break: break-word;
        }

        .card .buttons {
            display: flex;
            gap: 10px;
            width: 100%;
        }

        .card button {
            flex-grow: 1;
            padding: 10px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Card Themes */
        .card.dark-theme {
            background-color: #242526;
            color: #e4e6eb;
        }

        .card.dark-theme button {
            background-color: #3a3b3c;
            color: #e4e6eb;
            border: 1px solid #4e4f50;
        }
        
        .card.dark-theme button:hover {
             background-color: #4e4f50;
        }

        .card.light-theme {
            background-color: #ffffff;
            color: #1c1e21;
        }

        .card.light-theme button {
            background-color: #e4e6eb;
            color: #1c1e21;
            border: 1px solid #ccd0d5;
        }
        
        .card.light-theme button:hover {
            background-color: #d8dade;
        }

    </style>
</head>
<body>

    <!-- Form to input user data -->
    <div class="form-container">
        <form id="profile-form">
            <input type="text" id="name" placeholder="Enter your name" required>
            <textarea id="bio" placeholder="Enter a short bio" required></textarea>
            
            <label for="profile-pic" class="file-input-label">
                <span>Choose File</span>
                <span id="file-name-display" class="file-name">No file chosen</span>
            </label>
            <input type="file" id="profile-pic" accept="image/*" required>
            
            <select id="shape-select">
                <option value="square">Square Image</option>
                <option value="circle">Circle Image</option>
            </select>
            <button type="submit">Generate Card</button>
        </form>
    </div>

    <!-- Container where generated cards will be displayed -->
    <div id="card-container">
        <!-- Example Cards (can be removed) -->
        <div class="card dark-theme">
            <img src="https://placehold.co/100x100/333/FFF?text=User" alt="Profile Picture" class="square">
            <h3>Sample Name</h3>
            <p>This is a sample bio for the profile card. You can write a short description here.</p>
            <div class="buttons">
                <button class="toggle-theme">Toggle Theme</button>
                <button class="delete-card">Delete</button>
            </div>
        </div>
    </div>

    <script>
        // Get references to DOM elements
        const form = document.getElementById('profile-form');
        const nameInput = document.getElementById('name');
        const bioInput = document.getElementById('bio');
        const picInput = document.getElementById('profile-pic');
        const shapeSelect = document.getElementById('shape-select');
        const cardContainer = document.getElementById('card-container');
        const fileNameDisplay = document.getElementById('file-name-display');

        // Update file name display when a file is chosen
        picInput.addEventListener('change', () => {
            if (picInput.files.length > 0) {
                fileNameDisplay.textContent = picInput.files[0].name;
            } else {
                fileNameDisplay.textContent = 'No file chosen';
            }
        });

        // Listen for form submission
        form.addEventListener('submit', function(event) {
            // Prevent the default form submission behavior
            event.preventDefault();

            // Get user inputs
            const name = nameInput.value;
            const bio = bioInput.value;
            const shape = shapeSelect.value;
            const picFile = picInput.files[0];

            // Validate that a file was selected
            if (!picFile) {
                alert('Please select a profile picture!');
                return;
            }

            // Use FileReader to read the image file as a data URL
            const reader = new FileReader();
            reader.onload = function(e) {
                const picUrl = e.target.result;
                // Create a new card once the file is read
                createCard(name, bio, picUrl, shape);
            };
            reader.readAsDataURL(picFile);

            // Reset the form fields for the next entry
            form.reset();
            fileNameDisplay.textContent = 'No file chosen';
        });

        /**
         * Creates a new profile card and adds it to the DOM.
         * @param {string} name - The user's name.
         * @param {string} bio - The user's biography.
         * @param {string} picUrl - The URL of the profile picture.
         * @param {string} shape - The shape for the profile picture ('square' or 'circle').
         */
        function createCard(name, bio, picUrl, shape) {
            // Create the main card div
            const card = document.createElement('div');
            // Start with the dark theme by default
            card.className = 'card dark-theme';

            // Create the inner HTML for the card
            card.innerHTML = `
                <img src="${picUrl}" alt="Profile Picture" class="${shape}">
                <h3>${name}</h3>
                <p>${bio}</p>
                <div class="buttons">
                    <button class="toggle-theme">Toggle Theme</button>
                    <button class="delete-card">Delete</button>
                </div>
            `;

            // Add the new card to the beginning of the container
            cardContainer.prepend(card);
        }

        // Use event delegation to handle clicks on the card buttons
        cardContainer.addEventListener('click', function(event) {
            const target = event.target;
            const card = target.closest('.card');

            if (!card) return; // Exit if the click was not inside a card

            // Handle theme toggling
            if (target.classList.contains('toggle-theme')) {
                card.classList.toggle('dark-theme');
                card.classList.toggle('light-theme');
            }

            // Handle card deletion
            if (target.classList.contains('delete-card')) {
                // A simple confirmation before deleting
                if (confirm('Are you sure you want to delete this card?')) {
                    card.remove();
                }
            }
        });

    </script>
</body>
</html>